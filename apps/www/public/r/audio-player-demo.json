{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "audio-player-demo",
  "type": "registry:example",
  "description": "Audio player demo",
  "registryDependencies": [
    "@audio/player",
    "@audio/frame"
  ],
  "files": [
    {
      "path": "registry/default/examples/audio-player-demo.tsx",
      "content": "\"use client\";\n\nimport { type QueueItem, useAudio } from \"audio-engine/react\";\nimport { PauseIcon, PlayIcon } from \"lucide-react\";\nimport { cn } from \"@/registry/default/lib/utils\";\nimport { Button } from \"@/registry/default/ui/button\";\nimport { Frame, FramePanel } from \"@/registry/default/ui/frame\";\nimport {\n  exampleTracks,\n  Player,\n  PlayerDuration,\n  PlayerProgress,\n  PlayerSpeed,\n  PlayerTime,\n  PlayPauseButton,\n} from \"@/registry/default/ui/player\";\nimport { ScrollArea } from \"@/registry/default/ui/scroll-area\";\n\nexport default function AudioPlayer() {\n  return (\n    <Player>\n      <AudioPlayerDemo />\n    </Player>\n  );\n}\n\nconst AudioPlayerDemo = () => (\n  <Frame className=\"w-full overflow-hidden\">\n    <FramePanel className=\"flex flex-col lg:h-[180px] lg:flex-row\">\n      <div className=\"flex flex-col overflow-hidden bg-muted/50 lg:h-full lg:w-64\">\n        <ScrollArea className=\"h-48 w-full lg:h-full\">\n          <div className=\"space-y-1 p-3\">\n            {exampleTracks.map((song, index) => (\n              <SongListItem key={song.id} song={song} trackNumber={index + 1} />\n            ))}\n          </div>\n        </ScrollArea>\n      </div>\n      <PlayerControls />\n    </FramePanel>\n  </Frame>\n);\n\nconst PlayerControls = () => {\n  const audio = useAudio();\n  const queue = audio.state.queue.items;\n  const activeItemId = audio.state.queue.activeItemId;\n\n  // Trouver l'item actif dans la queue\n  const activeItem = queue?.find((item) => item.id === activeItemId);\n  const trackTitle = activeItem?.title || \"No track selected\";\n\n  return (\n    <div className=\"flex flex-1 items-center p-4 sm:p-6\">\n      <div className=\"mx-auto w-full max-w-2xl\">\n        <div className=\"mb-4\">\n          <h3 className=\"font-semibold text-base sm:text-lg\">{trackTitle}</h3>\n        </div>\n        <div className=\"flex items-center gap-3 sm:gap-4\">\n          <PlayPauseButton\n            className=\"h-12 w-12 shrink-0 sm:h-10 sm:w-10\"\n            disabled={!activeItem}\n            size=\"default\"\n            variant=\"outline\"\n          />\n          <div className=\"flex flex-1 items-center gap-2 sm:gap-3\">\n            <PlayerTime className=\"text-xs tabular-nums\" />\n            <PlayerProgress className=\"flex-1\" />\n            <PlayerDuration className=\"text-xs tabular-nums\" />\n            <PlayerSpeed size=\"icon\" variant=\"ghost\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst SongListItem = ({\n  song,\n  trackNumber,\n}: {\n  song: QueueItem<{ name: string }>;\n  trackNumber: number;\n}) => {\n  const audio = useAudio();\n  const activeItemId = audio.state.queue.activeItemId;\n  const isPlaying = audio.state.playback.isPlaying;\n  const play = audio.actions.playback.play;\n  const pause = audio.actions.playback.pause;\n  const isActive = activeItemId === song.id;\n  const isCurrentlyPlaying = isActive && isPlaying;\n\n  return (\n    <div className=\"group/song relative\">\n      <Button\n        className={cn(\n          \"h-10 w-full justify-start px-3 font-normal sm:h-9 sm:px-2\",\n          isActive && \"bg-secondary\"\n        )}\n        onClick={() => {\n          if (isCurrentlyPlaying) {\n            pause();\n          } else {\n            play(song);\n          }\n        }}\n        size=\"sm\"\n        variant={isActive ? \"secondary\" : \"ghost\"}\n      >\n        <div className=\"flex w-full items-center gap-3\">\n          <div className=\"flex w-5 shrink-0 items-center justify-center\">\n            {isCurrentlyPlaying ? (\n              <PauseIcon className=\"h-4 w-4 sm:h-3.5 sm:w-3.5\" />\n            ) : (\n              <>\n                <span className=\"text-muted-foreground/60 text-sm tabular-nums group-hover/song:invisible\">\n                  {trackNumber}\n                </span>\n                <PlayIcon className=\"invisible absolute h-4 w-4 group-hover/song:visible sm:h-3.5 sm:w-3.5\" />\n              </>\n            )}\n          </div>\n          <span className=\"truncate text-left text-sm\">{song.title}</span>\n        </div>\n      </Button>\n    </div>\n  );\n};\n",
      "type": "registry:example"
    }
  ],
  "categories": [
    "player"
  ]
}
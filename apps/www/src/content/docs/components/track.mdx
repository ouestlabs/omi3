---
title: Audio Track
description: Track display components with list management and track information.
links:
  doc:
    - https://ui.shadcn.com/docs/components/avatar
    - https://ui.shadcn.com/docs/components/badge
    - https://ui.shadcn.com/docs/components/button
    - https://ui.shadcn.com/docs/components/item
    - https://ui.shadcn.com/docs/components/scroll-area
---
 
Track components for displaying and managing audio tracks. These components support two modes:

- Store mode: reads from and controls the global audio queue provided by the project's audio store.
- Controlled mode: accepts an explicit list or single track for use in search results or external lists.

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>
<TabsContent value="cli">

```bash
npx shadcn@latest add @audio/track
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Install the runtime dependencies:</Step>

```bash
npm install zustand lucide-react class-variance-authority
```

<Step>Install the required shadcn/ui primitives:</Step>

```bash
npx shadcn@latest add avatar badge button item scroll-area empty
```

<Step>Install the sortable helper used by the examples:</Step>

```bash
npx shadcn@latest add @audio/sortable-list
```

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name="track" title="components/audio/track.tsx" />

<Step>Copy the required provider file.</Step>

<ComponentSource name="provider" title="components/audio/provider.tsx" />

<Step>Copy the required store file.</Step>

<ComponentSource name="store" title="lib/audio-store.ts" />

<Step>Copy the audio lib file.</Step>

<ComponentSource name="lib" title="lib/audio.ts" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Usage

```tsx
import { AudioTrack, AudioTrackList } from "@/components/audio/track";
```

### AudioTrack

Displays a single track with optional cover, metadata and playback controls. Use either:

- `trackId` to render an item from the project's audio queue, or
- `track` to render a provided track object.

<ComponentPreview name="track-demo" />

```tsx
// From queue by id
<AudioTrack trackId={track.id} />

// With explicit data
<AudioTrack track={customTrack} onClick={() => handlePlay(customTrack)} />
```

### AudioTrackList

Renders a list of tracks. Pass `tracks` for a controlled list, otherwise the component renders the project queue.

Key features:

- Text filtering via `filterQuery` or a custom `filterFn`.
- Optional drag-and-drop (`sortable`) â€” reordering updates the queue only when not filtered and when `tracks` is not provided.
- Per-item remove action and play/pause controls (configurable via props).

<ComponentPreview name="track-list-demo" />

```tsx
// Default: renders project queue
<AudioTrackList onTrackSelect={(index) => console.log(index)} />

// Controlled: render custom set
<AudioTrackList tracks={searchResults} onTrackSelect={handleSelect} />
```

#### Grid Layout

<ComponentPreview name="track-list-grid-demo" />

#### Sortable

<ComponentPreview name="track-sortable-list-demo" />

#### Sortable Grid

<ComponentPreview name="track-sortable-list-grid-demo" />

## API Reference

### AudioTrack

#### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `trackId` | `string \| number` | - | Load a track from the global queue (store mode). Do not use together with `track`. |
| `track` | `Track` | - | Render a provided track object (controlled mode). Do not use together with `trackId`. |
| `index` | `number` | - | Display index (one-based when shown). |
| `onClick` | `() => void` | - | Click handler invoked when the item is clicked. |
| `onRemove` | `(trackId: string) => void` | - | Called when the remove action is used. Receives the track id as string. |
| `showRemove` | `boolean` | `false` | Whether to show the remove (X) button. Hidden for the current playing track. |
| `showPlayPause` | `boolean` | `true` | Show play / pause control. |
| `showDragHandle` | `boolean` | `false` | Show a drag handle (used together with sortable lists). |
| `showCover` | `boolean` | `true` | Show album artwork (falls back to default icon). |
| `className` | `string` | - | Additional CSS classes. |

<Callout variant="info">
  <strong>Important Information:</strong>
  
  - **Operating Modes:** Use either <code>trackId</code> (store mode) or <code>track</code> (controlled mode). Both should not be used together. Store mode requires <code>AudioProvider</code> to be set up.
  - **Track Display:** Cover images are taken from <code>track.artwork</code> or <code>track.images[0]</code>. Live tracks show a "Live" badge and the duration is hidden.
</Callout>

### AudioTrackList

#### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `tracks` | `Track[]` | - | Controlled list of tracks. When omitted the component reads from the global queue. |
| `onTrackSelect` | `(index: number, track?: Track) => void` | - | Called when a track is selected or played. In store mode the index is the queue index. In controlled mode the index refers to the provided `tracks` array. |
| `onTrackRemove` | `(trackId: string) => void` | - | Remove handler used by the per-item remove button. |
| `sortable` | `boolean` | `false` | Enable drag-and-drop reordering. Reordering will update the store queue only when not filtered and when `tracks` is not provided. |
| `showCover` | `boolean` | `true` | Show track cover image. |
| `variant` | `"default" \| "grid"` | `"default"` | Layout variant: stacked list or responsive grid. |
| `filterQuery` | `string` | - | Simple text filter (matches title or artist). |
| `filterFn` | `(track: Track) => boolean` | - | Custom filter function. When provided, `filterQuery` is ignored. |
| `emptyLabel` | `string` | `"No tracks found"` | Label shown when the list is empty. |
| `emptyDescription` | `string` | `"Try adding some tracks"` | Description shown in the empty state. |
| `className` | `string` | - | Additional CSS classes. |

<Callout variant="info">
  <strong>Store vs Controlled Mode:</strong> When <code>tracks</code> is omitted, the component reads from the global queue (store mode).
  When <code>tracks</code> is provided, it operates in controlled mode using the provided array.
</Callout>

<Callout variant="warning">
  <strong>Sortable Behavior:</strong> When <code>sortable</code> is enabled, reordering will update the store queue only when:
  - The list is not filtered (<code>filterQuery</code> and <code>filterFn</code> are not used)
  - The component is in store mode (<code>tracks</code> prop is not provided)
  
  Keep <code>sortable</code> disabled while filtering to avoid confusing reordering behavior.
</Callout>

## Examples

### Store mode (main queue)

```tsx
<AudioTrackList sortable onTrackSelect={(i) => console.log('play queue index', i)} />
```

### Controlled mode (search results)

```tsx
<AudioTrackList
  tracks={searchResults}
  variant="grid"
  onTrackSelect={(index, track) => addToQueue(track)}
/>
```

### Filtering

```tsx
<AudioTrackList filterQuery="jazz" />
// or
<AudioTrackList filterFn={(t) => t.genre === 'jazz'} />
```

### With removal

```tsx
<AudioTrackList onTrackRemove={(id) => removeFromQueue(id)} />
```

## Notes

<Callout variant="info">
  <strong>Important Information:</strong>
  
  - **AudioProvider Requirement:** <code>AudioProvider</code> (or the project's audio store) is required for store mode to work correctly. Make sure to wrap your app with the provider at the root level. The provider manages the audio playback state and lifecycle, making it essential for all audio components.
  - **Localization:** If you localize strings (e.g., empty labels), pass <code>emptyLabel</code> and <code>emptyDescription</code> to the list component.
</Callout>